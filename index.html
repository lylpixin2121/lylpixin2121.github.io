<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>李大莽的窝</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="看看能到什么时候">
<meta property="og:type" content="website">
<meta property="og:title" content="李大莽的窝">
<meta property="og:url" content="http://lylpixin2121.github.io/index.html">
<meta property="og:site_name" content="李大莽的窝">
<meta property="og:description" content="看看能到什么时候">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="李大莽的窝">
<meta name="twitter:description" content="看看能到什么时候">
  
    <link rel="alternate" href="/atom.xml" title="李大莽的窝" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">李大莽的窝</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">一个勤奋的大莽</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://lylpixin2121.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-for-loop" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/13/for-loop/" class="article-date">
  <time datetime="2016-12-13T14:58:26.000Z" itemprop="datePublished">2016-12-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/13/for-loop/">for-loop</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h2><p>在ES5中有三种for循环，分别是：</p>
<ul>
<li>for循环</li>
<li>for in循环</li>
<li>forEach循环</li>
</ul>
<p>在ES6中有一种for循环,叫做：</p>
<ul>
<li>for of循环</li>
</ul>
<h2 id="for循环-1"><a href="#for循环-1" class="headerlink" title="for循环"></a>for循环</h2><p>for循环是最简单的一种循环方式，一般格式如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, len = arr.length;i &lt; len; i++)&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(arr[i])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>一般会考虑缓存length的值 来提高性能，不过前提是length的值是不变的</p>
<h2 id="for-in循环"><a href="#for-in循环" class="headerlink" title="for in循环"></a>for in循环</h2><p>for in循环是作为一种循环遍历对象属性的手段而存在的;<br>其中会有一个比较特殊的地方，就是数组；</p>
<p>下面例子：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> a)&#123;<span class="built_in">console</span>.log(i)&#125;</span><br></pre></td></tr></table></figure>
<p>最后输出结果是：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure></p>
<p>看似for in可以遍历数组，实际原理是数组也是一种对应，索引是作为对象的属性名而存在，所以这里如果用过typeof 来测试，会发现i返回的都是string类型。</p>
<blockquote>
<h3 id="那么问题来了length-也是数组的一种属性，为何它没有被循环遍历出来？"><a href="#那么问题来了length-也是数组的一种属性，为何它没有被循环遍历出来？" class="headerlink" title="那么问题来了length 也是数组的一种属性，为何它没有被循环遍历出来？"></a>那么问题来了length 也是数组的一种属性，为何它没有被循环遍历出来？</h3></blockquote>
<p>原因是：for in用一句话概括就是，<strong>for in可以遍历可枚举的自有属性和原型属性</strong>,length是不可以被枚举的自有属性，所以没有被枚举出来，同样的数组的其他一些原型属性方法，因为是内置方法，内置方法都是不可以被枚举的，所以也没有读取出来，但是用户自定义的原型属性是可以被枚举的，同时setter、getter存取器属性也是可以被枚举的，举例如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>];</span><br><span class="line"><span class="built_in">Array</span>.prototype.showName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125; </span><br><span class="line">a.name = <span class="string">"lalala"</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> a)&#123;<span class="built_in">console</span>.log(i)&#125;</span><br></pre></td></tr></table></figure>
<p>最后输出结果是：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="comment">// 索引属性</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line">name <span class="comment">//自有属性</span></span><br><span class="line">showName <span class="comment">//自定义的原型属性</span></span><br></pre></td></tr></table></figure></p>
<p>getter 和 setter的遍历<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = &#123;</span><br><span class="line">  x:<span class="number">1</span>,</span><br><span class="line">  y:<span class="number">5</span>,</span><br><span class="line">  get z()&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.random()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> p)&#123;<span class="built_in">console</span>.log(i)&#125;</span><br></pre></td></tr></table></figure></p>
<p>最后输出结果是：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x </span><br><span class="line">y <span class="comment">//常规自有属性</span></span><br><span class="line">z <span class="comment">//存取器属性</span></span><br></pre></td></tr></table></figure></p>
<p>我们可以通过ES5中提供的Object.getOwnPropertyDescriptor()方法来获取某个对象中特定属性的属性描述符；</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.getOwnPropertyDescriptor(a,<span class="string">"length"</span>)</span><br></pre></td></tr></table></figure>
<p>输出结果是：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//分别对应为：length属性为不可配置性、不可枚举性、可写性，值（长度）等于3</span></span><br><span class="line"><span class="comment">/*</span><br><span class="line">  可写性：表示可以去设置该属性的值 即：去修改length的值可行 如 a.length = 10</span><br><span class="line">  可配置型：表示可以删除或者修改这个属性 即 a.length = "xxx" 会报错；delete a.length 会无效</span><br><span class="line">  可枚举性：表示可以通过for in循环遍历到该方法 即：for in会遍历不出来length属性</span><br><span class="line">*/</span></span><br><span class="line">&#123;configurable:<span class="literal">false</span>,enumerable:<span class="literal">false</span>,value:<span class="number">3</span>,writable:<span class="literal">true</span>&#125;</span><br></pre></td></tr></table></figure></p>
<p>所以通过上面我们大体能看出来for in循环在遍历数组方面，不那么方便；但是却又一种例外，就是<strong>稀疏数组</strong></p>
<blockquote>
<h3 id="for-in循环还有一个特点：只会遍历存在的实体"><a href="#for-in循环还有一个特点：只会遍历存在的实体" class="headerlink" title="for in循环还有一个特点：只会遍历存在的实体"></a>for in循环还有一个特点：只会遍历存在的实体</h3></blockquote>
<p>案例如下：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.time(<span class="string">"for循环"</span>)</span><br><span class="line"><span class="keyword">var</span> a = [];</span><br><span class="line">a[<span class="number">10</span>] = <span class="string">"a"</span>;</span><br><span class="line">a[<span class="number">5000</span>] = <span class="string">"b"</span>;</span><br><span class="line">a[<span class="number">10000</span>] = <span class="string">"c"</span>; </span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>,len = a.length; i &lt; len; i++)&#123;<span class="built_in">console</span>.log(a[i])&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">"for循环"</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">"for-in循环"</span>)</span><br><span class="line"><span class="keyword">var</span> a = [];</span><br><span class="line">a[<span class="number">10</span>] = <span class="string">"a"</span>;</span><br><span class="line">a[<span class="number">5000</span>] = <span class="string">"b"</span>;</span><br><span class="line">a[<span class="number">10000</span>] = <span class="string">"c"</span>; </span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> a)&#123;<span class="built_in">console</span>.log(a[i])&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">"for-in循环"</span>)</span><br></pre></td></tr></table></figure></p>
<p>输出结果是：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//for循环</span></span><br><span class="line"></span><br><span class="line"><span class="number">10</span> <span class="literal">undefined</span> <span class="comment">// 10次循环后</span></span><br><span class="line">a <span class="comment">// 遍历出来a</span></span><br><span class="line"><span class="number">4989</span> <span class="literal">undefined</span> <span class="comment">// 再4989次循环后</span></span><br><span class="line">b <span class="comment">// 遍历出来b</span></span><br><span class="line"><span class="number">4999</span> <span class="literal">undefined</span> <span class="comment">// 再4999次循环后</span></span><br><span class="line">c <span class="comment">// 遍历出来c</span></span><br><span class="line"><span class="keyword">for</span>循环: <span class="number">786</span>ms <span class="comment">//总共花费的时间</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//for-in循环</span></span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line"><span class="keyword">for</span>-<span class="keyword">in</span>循环: <span class="number">1.09</span>ms</span><br></pre></td></tr></table></figure></p>
<p>从上面的数据我们可以看出，因为数组在离散创建的时候，其他位置会用undefined来补足位数，那么for-in循环在遍历的时候，能直接跳过这些区域的循环，从而大大的提高循环速度；反之，for循环会一遍遍的循环，总共循环10001次停止，效率方面基本for-in循环是它的700倍！</p>
<h3 id="for-in循环性能问题"><a href="#for-in循环性能问题" class="headerlink" title="for-in循环性能问题"></a>for-in循环性能问题</h3><p>for-in循环会同时搜索实例和原型属性，所以在遍历上会造成额外的开销，相比于其他类型循环，一般要慢差不多7个档次，所以除非需要遍历的是一个属性数量未知的对象，否则尽量避免使用for-in循环。如果需要遍历一个已知个数的属性列表，可以使用如下方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = &#123;</span><br><span class="line">	x : <span class="number">1</span>,</span><br><span class="line">	y : <span class="number">5</span>,</span><br><span class="line">	z : <span class="string">"xxx"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> props = <span class="built_in">Object</span>.keys(p);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;props.length;i++)&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(p[props[i]])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果是：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line">xxx</span><br></pre></td></tr></table></figure></p>
<h2 id="2016-12-14继续更新"><a href="#2016-12-14继续更新" class="headerlink" title="2016.12.14继续更新"></a>2016.12.14继续更新</h2><h3 id="forEach循环"><a href="#forEach循环" class="headerlink" title="forEach循环"></a>forEach循环</h3><p>forEach循环是ES5中新加入的一个专门处理数组的方法，<strong>它为数组中每个有效值执行一个callback回调函数</strong>他的特点有几下几点：</p>
<ul>
<li><p>1、forEach只会遍历 有效值，而从未赋值的项会自动跳过【这是比for循环优势的点】</p>
</li>
<li><p>2、forEach只会遍历具有索引的数组属性，不会遍历自有属性和原型属性【这是比for-in循环优势的点】</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = [];</span><br><span class="line">a[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">a[<span class="number">3</span>] = <span class="number">2</span>;</span><br><span class="line">a[<span class="number">10</span>] = <span class="number">3</span>;</span><br><span class="line">a.name = <span class="string">"xxx"</span></span><br><span class="line"><span class="built_in">Array</span>.prototype.showName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line">a.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item,index,arr</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(item,index,arr)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>输出结果是：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">0</span>  </span><br><span class="line"></span><br><span class="line"><span class="number">2</span> <span class="number">3</span> </span><br><span class="line"></span><br><span class="line"><span class="number">3</span> <span class="number">10</span></span><br><span class="line"></span><br><span class="line">[<span class="number">1</span>, <span class="literal">undefined</span> × <span class="number">2</span>, <span class="number">2</span>, <span class="literal">undefined</span> × <span class="number">6</span>, <span class="number">3</span>]<span class="comment">//实际的数组</span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<h2 id="PS-Chrome里可以通过颜色的变化来查看属性是否是可以枚举的"><a href="#PS-Chrome里可以通过颜色的变化来查看属性是否是可以枚举的" class="headerlink" title="PS:Chrome里可以通过颜色的变化来查看属性是否是可以枚举的"></a>PS:Chrome里可以通过颜色的变化来查看属性是否是可以枚举的</h2></blockquote>
<ul>
<li>3、forEach循环在遍历之处循环的范围就已经固定了，所以在循环中添加到数组中的项是不会被forEach遍历到【这点是可以和for循环做区别的点，注意这一点上for-in循环和forEach效果相同】</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">78</span>,<span class="number">9</span>,<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;a.length;i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(i&lt;<span class="number">4</span>)&#123;</span><br><span class="line">        a[a.length+i] = <span class="built_in">Math</span>.random();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(a[i])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> aa = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">78</span>,<span class="number">9</span>,<span class="number">0</span>];</span><br><span class="line">aa.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item,i</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i&lt;<span class="number">4</span>)&#123;</span><br><span class="line">        aa[aa.length+i] = <span class="built_in">Math</span>.random();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>输出结果是：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//for循环输出的结果：</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">78</span></span><br><span class="line"><span class="number">9</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">0.41729779350454166</span></span><br><span class="line"><span class="literal">undefined</span></span><br><span class="line"><span class="number">0.9895718260759845</span></span><br><span class="line"><span class="literal">undefined</span></span><br><span class="line"><span class="number">0.3844702464074563</span></span><br><span class="line"><span class="literal">undefined</span></span><br><span class="line"><span class="number">0.19618060359086043</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//forEach循环输出的结果：</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">78</span></span><br><span class="line"><span class="number">9</span></span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure></p>
<p>for循环在循环过程中数据是会动态改变的，会影响最后的循环输出结果，for-in和forEach则不会</p>
<h2 id="2016-12-19继续更新"><a href="#2016-12-19继续更新" class="headerlink" title="2016.12.19继续更新"></a>2016.12.19继续更新</h2><h3 id="for-of循环"><a href="#for-of循环" class="headerlink" title="for-of循环"></a>for-of循环</h3><p><strong>为什么要引入for-of循环？</strong></p>
<p>要回答这个问题 先说下ES6之前的3种循环有哪些缺陷：</p>
<ul>
<li>forEach无法进行break continue return这样的循环流程控制</li>
<li>for-in缺点就是，开销大，除了遍历数组中的元素，还会遍历自定义属性 甚至原型链上的属性</li>
<li>for循环 就是无法区分实体，再稀疏数组循环中开销比较大</li>
</ul>
<p>所以for-of循环应运而生，再无法修改原来规范的基础上，重新增加了for-of循环来解决目前的这些问题：</p>
<ul>
<li>for-of跟forEach相比，可以正确响应break continue return</li>
<li>没有for-in的所有缺点</li>
<li>不仅可以遍历数据 还可以遍历类数组对象和其他可迭代对象</li>
<li>但是for-of无法遍历普通对象，否则会报错</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lylpixin2121.github.io/2016/12/13/for-loop/" data-id="ciww841rz000198v06tdyw9wg" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js流程控制/">js流程控制</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-krpano" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/12/krpano/" class="article-date">
  <time datetime="2016-12-12T14:01:05.000Z" itemprop="datePublished">2016-12-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/12/krpano/">krpano</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="krpano中路径的问题"><a href="#krpano中路径的问题" class="headerlink" title="krpano中路径的问题"></a>krpano中路径的问题</h2><p>krpano中所有的元素的路径都是基于当前xml文件所设的相对位置，如：</p>
<p>``</p>
<layer name="mypic" url="sea.png" …="">

<p>``<br>该图片地址是和layer本身所处的xml文件同级目录是才可以使用。</p>
<p>我们可以采用一些url的一些特殊方式进行处理：</p>
<p>当用相对路径作为url的地址的时候，url是相对于当前xml的地址，而并非住xml文件。</p>
<p>为了使路径能够相对某些特别的预定义路径，可以在url路径中使用下面的占位符：</p>
<p>%FIRSTXML% 第一个载入的xml文件路径</p>
<p>%CURRENTXML% 当前载入的主xml文件路径（非嵌入式的文件）</p>
<p>%SWFPATH%  swf文件路径</p>
<p>%HTMLPATH% html文件的路径</p>
<p>%BASEDIR%  使用basedir 相对于根目录的路径</p>
<p>%$VARIABLE% 相对于某个krpano变量 但是必须提前定义</p>
</layer>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://lylpixin2121.github.io/2016/12/12/krpano/" data-id="ciww841sf000498v037b36t7w" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-I-want-to-say" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/06/01/I-want-to-say/" class="article-date">
  <time datetime="2016-05-31T16:39:41.000Z" itemprop="datePublished">2016-06-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/01/I-want-to-say/">I want to  say</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="这是一个新的开始"><a href="#这是一个新的开始" class="headerlink" title="这是一个新的开始"></a>这是一个新的开始</h2><p>这是一个新的开始，希望一切都能好起来！Everything will be fine~</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lylpixin2121.github.io/2016/06/01/I-want-to-say/" data-id="ciww841rz000098v0whkdxphe" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/31/hello-world/" class="article-date">
  <time datetime="2016-05-31T15:31:07.679Z" itemprop="datePublished">2016-05-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/31/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lylpixin2121.github.io/2016/05/31/hello-world/" data-id="ciww841rz000298v07rezcyqp" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Mot-clés</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/js流程控制/">js流程控制</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Nuage de mot-clés</h3>
    <div class="widget tagcloud">
      <a href="/tags/js流程控制/" style="font-size: 10px;">js流程控制</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles récents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/12/13/for-loop/">for-loop</a>
          </li>
        
          <li>
            <a href="/2016/12/12/krpano/">krpano</a>
          </li>
        
          <li>
            <a href="/2016/06/01/I-want-to-say/">I want to  say</a>
          </li>
        
          <li>
            <a href="/2016/05/31/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 lylpixin2121<br>
      Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>